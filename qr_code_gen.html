<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Free QR Code Generator - Create QR Codes for URLs, WiFi, Contacts & More</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Generate professional QR codes for free! Create QR codes for URLs, WiFi networks, contact cards, emails, SMS, locations, events, and cryptocurrency. Save, edit, and download QR codes with customizable colors and sizes." />
    <meta name="keywords" content="qr code generator, free qr code, qr code maker, wifi qr code, vcard qr code, url qr code, qr code creator, contact qr code, email qr code, sms qr code, location qr code, event qr code, crypto qr code, qr code download, custom qr code, qr code colors, qr code generator online, barcode generator" />
    <meta name="author" content="Sabuj Kundu" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://manchumahara.github.io/mischtmldemo/qr_code_gen.html" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://manchumahara.github.io/mischtmldemo/qr_code_gen.html" />
    <meta property="og:title" content="Free QR Code Generator - Create QR Codes for URLs, WiFi, Contacts & More" />
    <meta property="og:description" content="Generate professional QR codes for free! Create QR codes for URLs, WiFi networks, contact cards, emails, SMS, locations, events, and cryptocurrency. Save, edit, and download QR codes with customizable colors and sizes." />
    <meta property="og:image" content="https://manchumahara.github.io/mischtmldemo/assets/images/qr-generator-preview.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="QR Code Generator Tool - Create professional QR codes for free" />
    <meta property="og:site_name" content="Free QR Code Generator" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://manchumahara.github.io/mischtmldemo/qr_code_gen.html" />
    <meta name="twitter:title" content="Free QR Code Generator - Create QR Codes for URLs, WiFi, Contacts & More" />
    <meta name="twitter:description" content="Generate professional QR codes for free! Create QR codes for URLs, WiFi networks, contact cards, emails, SMS, locations, events, and cryptocurrency. Save, edit, and download QR codes with customizable colors and sizes." />
    <meta name="twitter:image" content="https://manchumahara.github.io/mischtmldemo/assets/images/qr-generator-preview.png" />
    <meta name="twitter:image:alt" content="QR Code Generator Tool - Create professional QR codes for free" />
    <meta name="twitter:creator" content="@manchumahara" />
    <meta name="twitter:site" content="@manchumahara" />
    
    <!-- Additional Social Media -->
    <meta property="article:author" content="Sabuj Kundu">
    <meta property="article:publisher" content="https://sabujkundu.com">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Free QR Code Generator",
        "description": "Generate professional QR codes for free! Create QR codes for URLs, WiFi networks, contact cards, emails, SMS, locations, events, and cryptocurrency.",
        "url": "https://manchumahara.github.io/mischtmldemo/qr_code_gen.html",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Person",
            "name": "Sabuj Kundu",
            "url": "https://sabujkundu.com"
        },
        "features": [
            "URL QR Code Generator",
            "WiFi QR Code Generator",
            "Contact Card (vCard) QR Code",
            "Email QR Code Generator",
            "SMS QR Code Generator",
            "Location QR Code Generator",
            "Calendar Event QR Code",
            "Cryptocurrency QR Code",
            "Custom Colors and Sizes",
            "Save and Download QR Codes",
            "PNG and SVG Export"
        ]
    }
    </script>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üî≥</text></svg>">
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üî≥</text></svg>">

    <!-- Performance and Security -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="theme-color" content="#667eea"/>
    <meta name="msapplication-TileColor" content="#667eea" />
    <meta name="format-detection" content="telephone=no" />

    <script src="vendors/qrcode/bundle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.prod.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/classic.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .form-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .qr-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        select, input, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        select:focus, input:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .type-selector {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }

        .type-selector label {
            margin-bottom: 10px;
            font-size: 16px;
            color: #495057;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 15px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #218838;
            transform: translateY(-1px);
        }

        .qr-preview {
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 3px dashed #e0e0e0;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .qr-preview.has-qr {
            border: 3px solid #28a745;
            background: #f8fff9;
        }

        .qr-preview canvas {
            max-width: 100%;
            height: auto;
        }

        .placeholder-text {
            color: #666;
            font-size: 16px;
            text-align: center;
        }

        .settings-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .footer {
            margin-top: 50px;
            padding: 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .footer p {
            color: white;
            font-size: 14px;
        }

        .footer a {
            color: #ffd700;
            text-decoration: none;
            font-weight: 600;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .settings-group {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2rem;
            }

            .form-section, .qr-section {
                padding: 20px;
            }
        }

        .advanced-settings {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .advanced-settings h3 {
            margin-bottom: 15px;
            color: #495057;
        }

        .color-input {
            width: 60px;
            height: 40px;
            padding: 2px;
            border-radius: 5px;
        }

        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 5px;
        }

        .success-message {
            color: #28a745;
            font-size: 14px;
            margin-bottom: 15px;
            text-align: center;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            width: 90%;
        }

        .modal h3 {
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 20px;
        }

        .btn-cancel {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-cancel:hover {
            background: #545b62;
        }

        .btn-save {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-save:hover {
            background: #0056b3;
        }

        /* Saved QR Codes Section */
        .saved-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
        }

        .saved-section h2 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .qr-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .qr-table th,
        .qr-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .qr-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }

        .qr-table tr:hover {
            background: #f8f9fa;
        }

        .qr-preview-small {
            width: 60px;
            height: 60px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .action-buttons {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .btn-small {
            padding: 5px 10px;
            font-size: 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-edit {
            background: #ffc107;
            color: #212529;
        }

        .btn-edit:hover {
            background: #e0a800;
        }

        .btn-delete {
            background: #dc3545;
            color: white;
        }

        .btn-delete:hover {
            background: #c82333;
        }

        .btn-download {
            background: #28a745;
            color: white;
        }

        .btn-download:hover {
            background: #218838;
        }

        .no-saved-qr {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 40px 20px;
        }

        .btn-save-current {
            background: #17a2b8;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }

        .btn-save-current:hover {
            background: #138496;
            transform: translateY(-1px);
        }

        .pcr-button{
            border: 1px solid !important;
        }
    </style>
</head>
<body>
<div id="app">
    <div class="container">
        <div class="header">
            <h1>üî≥ QR Code Generator</h1>
            <p>Create professional QR codes for all your needs - URLs, contacts, WiFi, and more!</p>
        </div>

        <div class="main-content">
            <div class="form-section">
                <div class="type-selector">
                    <label for="qrType">Select QR Code Type:</label>
                    <select id="qrType" v-model="selectedType" @change="resetForm">
                        <option value="url">üåê Website URL</option>
                        <option value="text">üìù Plain Text</option>
                        <option value="email">üìß Email</option>
                        <option value="phone">üìû Phone Number</option>
                        <option value="sms">üí¨ SMS Message</option>
                        <option value="wifi">üì∂ WiFi Network</option>
                        <option value="vcard">üë§ Contact Card (vCard)</option>
                        <option value="location">üìç Location</option>
                        <option value="event">üìÖ Calendar Event</option>
                        <option value="crypto">‚Çø Cryptocurrency</option>
                    </select>
                </div>

                <!-- URL Type -->
                <div v-if="selectedType === 'url'">
                    <div class="form-group">
                        <label for="url">Website URL:</label>
                        <input type="url" id="url" v-model="formData.url" placeholder="https://example.com" @input="validateForm">
                        <div v-if="errors.url" class="error-message">{{ errors.url }}</div>
                    </div>
                </div>

                <!-- Text Type -->
                <div v-if="selectedType === 'text'">
                    <div class="form-group">
                        <label for="text">Text Content:</label>
                        <textarea id="text" v-model="formData.text" placeholder="Enter your text here..." rows="4" @input="validateForm"></textarea>
                        <div v-if="errors.text" class="error-message">{{ errors.text }}</div>
                    </div>
                </div>

                <!-- Email Type -->
                <div v-if="selectedType === 'email'">
                    <div class="form-group">
                        <label for="emailTo">Email Address:</label>
                        <input type="email" id="emailTo" v-model="formData.emailTo" placeholder="recipient@example.com" @input="validateForm">
                        <div v-if="errors.emailTo" class="error-message">{{ errors.emailTo }}</div>
                    </div>
                    <div class="form-group">
                        <label for="emailSubject">Subject (optional):</label>
                        <input type="text" id="emailSubject" v-model="formData.emailSubject" placeholder="Email subject">
                    </div>
                    <div class="form-group">
                        <label for="emailBody">Message (optional):</label>
                        <textarea id="emailBody" v-model="formData.emailBody" placeholder="Email message..." rows="3"></textarea>
                    </div>
                </div>

                <!-- Phone Type -->
                <div v-if="selectedType === 'phone'">
                    <div class="form-group">
                        <label for="phone">Phone Number:</label>
                        <input type="tel" id="phone" v-model="formData.phone" placeholder="+1234567890" @input="validateForm">
                        <div v-if="errors.phone" class="error-message">{{ errors.phone }}</div>
                    </div>
                </div>

                <!-- SMS Type -->
                <div v-if="selectedType === 'sms'">
                    <div class="form-group">
                        <label for="smsNumber">Phone Number:</label>
                        <input type="tel" id="smsNumber" v-model="formData.smsNumber" placeholder="+1234567890" @input="validateForm">
                        <div v-if="errors.smsNumber" class="error-message">{{ errors.smsNumber }}</div>
                    </div>
                    <div class="form-group">
                        <label for="smsMessage">Message (optional):</label>
                        <textarea id="smsMessage" v-model="formData.smsMessage" placeholder="SMS message..." rows="3"></textarea>
                    </div>
                </div>

                <!-- WiFi Type -->
                <div v-if="selectedType === 'wifi'">
                    <div class="form-group">
                        <label for="wifiSSID">Network Name (SSID):</label>
                        <input type="text" id="wifiSSID" v-model="formData.wifiSSID" placeholder="My WiFi Network" @input="validateForm">
                        <div v-if="errors.wifiSSID" class="error-message">{{ errors.wifiSSID }}</div>
                    </div>
                    <div class="form-group">
                        <label for="wifiPassword">Password:</label>
                        <input type="password" id="wifiPassword" v-model="formData.wifiPassword" placeholder="WiFi password">
                    </div>
                    <div class="form-group">
                        <label for="wifiSecurity">Security Type:</label>
                        <select id="wifiSecurity" v-model="formData.wifiSecurity">
                            <option value="WPA">WPA/WPA2</option>
                            <option value="WEP">WEP</option>
                            <option value="nopass">Open Network</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" v-model="formData.wifiHidden"> Hidden Network
                        </label>
                    </div>
                </div>

                <!-- vCard Type -->
                <div v-if="selectedType === 'vcard'">
                    <div class="settings-group">
                        <div class="form-group">
                            <label for="vcardFirstName">First Name:</label>
                            <input type="text" id="vcardFirstName" v-model="formData.vcardFirstName" placeholder="John" @input="validateForm">
                        </div>
                        <div class="form-group">
                            <label for="vcardLastName">Last Name:</label>
                            <input type="text" id="vcardLastName" v-model="formData.vcardLastName" placeholder="Doe" @input="validateForm">
                        </div>
                    </div>
                    <div v-if="errors.vcardName" class="error-message">{{ errors.vcardName }}</div>
                    <div class="form-group">
                        <label for="vcardOrg">Organization (optional):</label>
                        <input type="text" id="vcardOrg" v-model="formData.vcardOrg" placeholder="Company Name">
                    </div>
                    <div class="form-group">
                        <label for="vcardTitle">Job Title (optional):</label>
                        <input type="text" id="vcardTitle" v-model="formData.vcardTitle" placeholder="Software Developer">
                    </div>
                    <div class="settings-group">
                        <div class="form-group">
                            <label for="vcardPhone">Phone:</label>
                            <input type="tel" id="vcardPhone" v-model="formData.vcardPhone" placeholder="+1234567890">
                        </div>
                        <div class="form-group">
                            <label for="vcardEmail">Email:</label>
                            <input type="email" id="vcardEmail" v-model="formData.vcardEmail" placeholder="john@example.com">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="vcardWebsite">Website (optional):</label>
                        <input type="url" id="vcardWebsite" v-model="formData.vcardWebsite" placeholder="https://example.com">
                    </div>
                    <div class="form-group">
                        <label for="vcardAddress">Address (optional):</label>
                        <textarea id="vcardAddress" v-model="formData.vcardAddress" placeholder="123 Main St, City, State, ZIP" rows="2"></textarea>
                    </div>
                </div>

                <!-- Location Type -->
                <div v-if="selectedType === 'location'">
                    <div class="settings-group">
                        <div class="form-group">
                            <label for="latitude">Latitude:</label>
                            <input type="number" id="latitude" v-model="formData.latitude" placeholder="40.7128" step="any" @input="validateForm">
                            <div v-if="errors.latitude" class="error-message">{{ errors.latitude }}</div>
                        </div>
                        <div class="form-group">
                            <label for="longitude">Longitude:</label>
                            <input type="number" id="longitude" v-model="formData.longitude" placeholder="-74.0060" step="any" @input="validateForm">
                            <div v-if="errors.longitude" class="error-message">{{ errors.longitude }}</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="locationName">Location Name (optional):</label>
                        <input type="text" id="locationName" v-model="formData.locationName" placeholder="Times Square">
                    </div>
                </div>

                <!-- Event Type -->
                <div v-if="selectedType === 'event'">
                    <div class="form-group">
                        <label for="eventTitle">Event Title:</label>
                        <input type="text" id="eventTitle" v-model="formData.eventTitle" placeholder="Meeting with Client" @input="validateForm">
                        <div v-if="errors.eventTitle" class="error-message">{{ errors.eventTitle }}</div>
                    </div>
                    <div class="settings-group">
                        <div class="form-group">
                            <label for="eventStartDate">Start Date:</label>
                            <input type="datetime-local" id="eventStartDate" v-model="formData.eventStartDate" @input="validateForm">
                        </div>
                        <div class="form-group">
                            <label for="eventEndDate">End Date:</label>
                            <input type="datetime-local" id="eventEndDate" v-model="formData.eventEndDate">
                        </div>
                    </div>
                    <div v-if="errors.eventDate" class="error-message">{{ errors.eventDate }}</div>
                    <div class="form-group">
                        <label for="eventLocation">Location (optional):</label>
                        <input type="text" id="eventLocation" v-model="formData.eventLocation" placeholder="Conference Room A">
                    </div>
                    <div class="form-group">
                        <label for="eventDescription">Description (optional):</label>
                        <textarea id="eventDescription" v-model="formData.eventDescription" placeholder="Event details..." rows="3"></textarea>
                    </div>
                </div>

                <!-- Crypto Type -->
                <div v-if="selectedType === 'crypto'">
                    <div class="form-group">
                        <label for="cryptoType">Cryptocurrency:</label>
                        <select id="cryptoType" v-model="formData.cryptoType">
                            <option value="bitcoin">Bitcoin (BTC)</option>
                            <option value="ethereum">Ethereum (ETH)</option>
                            <option value="litecoin">Litecoin (LTC)</option>
                            <option value="dogecoin">Dogecoin (DOGE)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cryptoAddress">Wallet Address:</label>
                        <input type="text" id="cryptoAddress" v-model="formData.cryptoAddress" placeholder="Wallet address" @input="validateForm">
                        <div v-if="errors.cryptoAddress" class="error-message">{{ errors.cryptoAddress }}</div>
                    </div>
                    <div class="form-group">
                        <label for="cryptoAmount">Amount (optional):</label>
                        <input type="number" id="cryptoAmount" v-model="formData.cryptoAmount" placeholder="0.001" step="any">
                    </div>
                    <div class="form-group">
                        <label for="cryptoMessage">Message (optional):</label>
                        <input type="text" id="cryptoMessage" v-model="formData.cryptoMessage" placeholder="Payment for...">
                    </div>
                </div>

                <!-- Advanced Settings -->
                <div class="advanced-settings">
                    <h3>üé® Customization Options</h3>
                    <div class="settings-group">
                        <div class="form-group">
                            <label for="errorLevel">Error Correction:</label>
                            <select id="errorLevel" v-model="qrSettings.errorCorrectionLevel">
                                <option value="L">Low (7%)</option>
                                <option value="M">Medium (15%)</option>
                                <option value="Q">Quartile (25%)</option>
                                <option value="H">High (30%)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="qrSize">Size (pixels):</label>
                            <input type="number" id="qrSize" v-model="qrSettings.width" min="100" max="1000" step="50">
                        </div>
                    </div>
                    <div class="settings-group">
                        <!--<div class="form-group">
                            <label for="darkColor">Foreground Color:</label>
                            <input type="color" id="darkColor" v-model="qrSettings.darkColor" :value="qrSettings.darkColor" class="color-input"/>
                        </div>
                        <div class="form-group">
                            <label for="lightColor">Background Color:</label>
                            <input type="color" id="lightColor" v-model="qrSettings.lightColor" :value="qrSettings.lightColor" class="color-input"/>
                        </div>-->
                        <div class="form-group">
                            <label for="pickr-dark">Foreground Color:</label>
                            <!-- <input type="color" ... /> -->
                            <div id="pickr-dark"></div>
                        </div>
                        <div class="form-group">
                            <label for="pickr-light">Background Color:</label>
                            <!-- <input type="color" ... /> -->
                            <div id="pickr-light"></div>
                        </div>
                    </div>
                </div>

                <button class="btn-primary" @click="generateQR" :disabled="!isFormValid">
                    {{ isGenerating ? 'Generating...' : 'üî≥ Generate QR Code' }}
                </button>
            </div>

            <div class="qr-section">
                <h3 style="margin-bottom: 20px; color: #333;">üì± QR Code Preview</h3>

                <div class="qr-preview" :class="{ 'has-qr': qrCodeGenerated }">
                    <!--<canvas v-if="qrCodeGenerated" ref="qrCanvas"></canvas>-->
                    <canvas v-if="isFormValid" ref="qrCanvas"></canvas>
                    <!--<div v-else class="placeholder-text">-->
                    <div v-if="!qrCodeGenerated" class="placeholder-text">
                        <p>üî≥</p>
                        <p>Your QR code will appear here</p>
                        <p style="font-size: 14px; margin-top: 10px; opacity: 0.7;">Fill in the form and click generate</p>
                    </div>
                </div>

                <div v-if="successMessage" class="success-message">{{ successMessage }}</div>

                <div v-if="qrCodeGenerated">
                    <button class="btn-save-current" @click="showSaveModal">
                        üíæ Save QR Code
                    </button>
                    <div>
                        <button class="btn-secondary" @click="downloadQR('png')" style="margin-right: 10px;">
                            üì• Download PNG
                        </button>
                        <button class="btn-secondary" @click="downloadQR('svg')">
                            üì• Download SVG
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Saved QR Codes Section -->
        <div v-if="savedQRs.length > 0" class="saved-section">
            <h2>üíæ Saved QR Codes</h2>
            <table class="qr-table">
                <thead>
                <tr>
                    <th>Title</th>
                    <th>Type</th>
                    <th>QR Code</th>
                    <th>Created</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="qr in savedQRs" :key="qr.id">
                    <td><strong>{{ qr.title }}</strong></td>
                    <td>{{ getTypeDisplayName(qr.type) }}</td>
                    <td>
                        <canvas :ref="'savedQR_' + qr.id" class="qr-preview-small"></canvas>
                    </td>
                    <td>{{ formatDate(qr.createdAt) }}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-small btn-edit" @click="editSavedQR(qr)" title="Edit">
                                ‚úèÔ∏è Edit
                            </button>
                            <button class="btn-small btn-download" @click="downloadSavedQR(qr)" title="Download">
                                üì• Download
                            </button>
                            <button class="btn-small btn-delete" @click="deleteSavedQR(qr.id)" title="Delete">
                                üóëÔ∏è Delete
                            </button>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- Save Modal -->
        <div v-if="showSaveModalFlag" class="modal-overlay" @click.self="closeSaveModal">
            <div class="modal">
                <h3>üíæ Save QR Code</h3>
                <div class="form-group">
                    <label for="saveTitle">Title:</label>
                    <input
                            type="text"
                            id="saveTitle"
                            v-model="saveTitle"
                            placeholder="Enter a title for this QR code..."
                            @keyup.enter="saveCurrentQR"
                            ref="saveTitleInput"
                    >
                    <div v-if="saveTitleError" class="error-message">{{ saveTitleError }}</div>
                </div>
                <div class="modal-buttons">
                    <button class="btn-cancel" @click="closeSaveModal">Cancel</button>
                    <button class="btn-save" @click="saveCurrentQR" :disabled="!saveTitle.trim()">Save</button>
                </div>
            </div>
        </div>

        <div class="footer">
            <p style="text-align: center;">This tool is Claude AI generated, prompted by <a target="_blank" href="https://sabujkundu.com">Sabuj Kundu</a></p>
        </div>
    </div>
</div>

<script>
  const { createApp } = Vue

  createApp({
    data () {
      return {
        selectedType: 'url',
        qrCodeGenerated: false,
        isGenerating: false,
        successMessage: '',
        errors: {},
        savedQRs: [],
        showSaveModalFlag: false,
        saveTitle: '',
        saveTitleError: '',
        db: null,
        formData: {
          // URL
          url: '',
          // Text
          text: '',
          // Email
          emailTo: '',
          emailSubject: '',
          emailBody: '',
          // Phone
          phone: '',
          // SMS
          smsNumber: '',
          smsMessage: '',
          // WiFi
          wifiSSID: '',
          wifiPassword: '',
          wifiSecurity: 'WPA',
          wifiHidden: false,
          // vCard
          vcardFirstName: '',
          vcardLastName: '',
          vcardOrg: '',
          vcardTitle: '',
          vcardPhone: '',
          vcardEmail: '',
          vcardWebsite: '',
          vcardAddress: '',
          // Location
          latitude: '',
          longitude: '',
          locationName: '',
          // Event
          eventTitle: '',
          eventStartDate: '',
          eventEndDate: '',
          eventLocation: '',
          eventDescription: '',
          // Crypto
          cryptoType: 'bitcoin',
          cryptoAddress: '',
          cryptoAmount: '',
          cryptoMessage: ''
        },
        darkColor: '#000000',
        lightColor: '#FFFFFF',
        pickrDark : null,
        pickrLight : null,
        qrSettings: {
          width: 300,
          margin: 4,
          /*color: {
              dark: '#000000',
              light: '#FFFFFF'
          },*/
          errorCorrectionLevel: 'M'
        }
      }
    },
    computed: {
      isFormValid () {
        this.validateForm()
        return Object.keys(this.errors).length === 0
      }
    },
    methods: {
      // IndexedDB Methods
      async initDB () {
        return new Promise((resolve, reject) => {
          const request = indexedDB.open('QRCodeDB', 1)

          request.onerror   = () => reject(request.error)
          request.onsuccess = () => {
            this.db = request.result
            resolve(request.result)
          }

          request.onupgradeneeded = (event) => {
            const db = event.target.result
            if (!db.objectStoreNames.contains('qrcodes')) {
              const store = db.createObjectStore('qrcodes', { keyPath: 'id', autoIncrement: true })
              store.createIndex('title', 'title', { unique: false })
              store.createIndex('createdAt', 'createdAt', { unique: false })
            }
          }
        })
      },

      async loadSavedQRs () {
        if (!this.db) return

        return new Promise((resolve, reject) => {
          const transaction = this.db.transaction(['qrcodes'], 'readonly')
          const store       = transaction.objectStore('qrcodes')
          const request     = store.getAll()

          request.onsuccess = () => {
            this.savedQRs = request.result.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
            // Render saved QR codes
            this.$nextTick(() => {
              this.renderSavedQRs()
            })
            resolve(request.result)
          }
          request.onerror   = () => reject(request.error)
        })
      },

      async renderSavedQRs () {
        for (const qr of this.savedQRs) {
          const canvasRef = this.$refs[`savedQR_${qr.id}`]
          if (canvasRef && canvasRef[0]) {
            try {
              await QRCode.toCanvas(canvasRef[0], qr.content, {
                width: 60,
                margin: 1,
                color: qr.settings.color,
                errorCorrectionLevel: qr.settings.errorCorrectionLevel
              })
            } catch (error) {
              console.error('Error rendering saved QR:', error)
            }
          }
        }
      },

      async saveQRToDB (qrData) {
        if (!this.db) return

        return new Promise((resolve, reject) => {
          const transaction = this.db.transaction(['qrcodes'], 'readwrite')
          const store       = transaction.objectStore('qrcodes')
          const request     = store.add(qrData)

          request.onsuccess = () => {
            resolve(request.result)
          }
          request.onerror   = () => reject(request.error)
        })
      },

      async updateQRInDB (qrData) {
        if (!this.db) return

        return new Promise((resolve, reject) => {
          const transaction = this.db.transaction(['qrcodes'], 'readwrite')
          const store       = transaction.objectStore('qrcodes')
          const request     = store.put(qrData)

          request.onsuccess = () => {
            resolve(request.result)
          }
          request.onerror   = () => reject(request.error)
        })
      },

      async deleteQRFromDB (id) {
        if (!this.db) return

        return new Promise((resolve, reject) => {
          const transaction = this.db.transaction(['qrcodes'], 'readwrite')
          const store       = transaction.objectStore('qrcodes')
          const request     = store.delete(id)

          request.onsuccess = () => {
            resolve()
          }
          request.onerror   = () => reject(request.error)
        })
      },

      // Modal Methods
      showSaveModal () {
        if (!this.qrCodeGenerated) return

        this.showSaveModalFlag = true
        this.saveTitle         = `${this.getTypeDisplayName(this.selectedType)} - ${new Date().toLocaleDateString()}`
        this.saveTitleError    = ''

        this.$nextTick(() => {
          if (this.$refs.saveTitleInput) {
            this.$refs.saveTitleInput.focus()
            this.$refs.saveTitleInput.select()
          }
        })
      },

      closeSaveModal () {
        this.showSaveModalFlag = false
        this.saveTitle         = ''
        this.saveTitleError    = ''
      },

      async saveCurrentQR () {
        if (!this.saveTitle.trim()) {
          this.saveTitleError = 'Title is required'
          return
        }

        try {
          const qrData = {
            title: this.saveTitle.trim(),
            type: this.selectedType,
            content: this.generateQRContent(),
            formData: { ...this.formData },
            settings: {
              ...this.qrSettings,
              color: {
                dark: this.darkColor,
                light: this.lightColor
              }
            },
            createdAt: new Date().toISOString()
          }

          await this.saveQRToDB(qrData)
          await this.loadSavedQRs()

          this.closeSaveModal()
          this.successMessage = '‚úÖ QR code saved successfully!'

          setTimeout(() => {
            this.successMessage = ''
          }, 3000)
        } catch (error) {
          console.error('Error saving QR code:', error)
          this.saveTitleError = 'Error saving QR code. Please try again.'
        }
      },

      // Saved QR Management Methods
      editSavedQR (qr) {
        // Load the saved QR data into the form
        this.selectedType = qr.type
        this.formData     = { ...qr.formData }

        //console.log(qr.settings);

        this.darkColor = qr.settings.color.dark;
        this.lightColor = qr.settings.color.light;

        this.pickrDark.setColor(this.darkColor);
        this.pickrLight.setColor(this.lightColor);

        this.qrSettings   = { ...qr.settings }



        // Generate the QR code
        this.$nextTick(() => {
          this.generateQR()
        })

        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' })
      },

      async downloadSavedQR (qr, format = 'png') {
        try {
          const fileName = `${qr.title.replace(/[^a-z0-9]/gi, '_').toLowerCase()}-${Date.now()}`

          if (format === 'png') {
            const canvas = document.createElement('canvas')
            await QRCode.toCanvas(canvas, qr.content, {
              width: qr.settings.width || 300,
              margin: qr.settings.margin || 4,
              color: qr.settings.color,
              errorCorrectionLevel: qr.settings.errorCorrectionLevel || 'M'
            })

            const link    = document.createElement('a')
            link.download = `${fileName}.png`
            link.href     = canvas.toDataURL()
            link.click()
          } else if (format === 'svg') {
            const svg = await QRCode.toString(qr.content, {
              type: 'svg',
              width: qr.settings.width || 300,
              margin: qr.settings.margin || 4,
              color: qr.settings.color,
              errorCorrectionLevel: qr.settings.errorCorrectionLevel || 'M'
            })

            const blob    = new Blob([svg], { type: 'image/svg+xml' })
            const link    = document.createElement('a')
            link.download = `${fileName}.svg`
            link.href     = URL.createObjectURL(blob)
            link.click()
            URL.revokeObjectURL(link.href)
          }
        } catch (error) {
          console.error('Error downloading QR code:', error)
        }
      },

      async deleteSavedQR (id) {
        if (!confirm('Are you sure you want to delete this QR code?')) return

        try {
          await this.deleteQRFromDB(id)
          await this.loadSavedQRs()
          this.successMessage = '‚úÖ QR code deleted successfully!'

          setTimeout(() => {
            this.successMessage = ''
          }, 3000)
        } catch (error) {
          console.error('Error deleting QR code:', error)
        }
      },

      // Utility Methods
      getTypeDisplayName (type) {
        const types = {
          'url': 'üåê Website URL',
          'text': 'üìù Plain Text',
          'email': 'üìß Email',
          'phone': 'üìû Phone',
          'sms': 'üí¨ SMS',
          'wifi': 'üì∂ WiFi',
          'vcard': 'üë§ Contact',
          'location': 'üìç Location',
          'event': 'üìÖ Event',
          'crypto': '‚Çø Crypto'
        }
        return types[type] || type.toUpperCase()
      },

      formatDate (dateString) {
        return new Date(dateString).toLocaleDateString() + ' ' +
               new Date(dateString).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
      },
      resetForm () {
        // Reset form data
        Object.keys(this.formData).forEach(key => {
          if (typeof this.formData[key] === 'boolean') {
            this.formData[key] = false
          } else if (typeof this.formData[key] === 'string') {
            this.formData[key] = ''
          }
        })

        // Reset specific defaults
        this.formData.wifiSecurity = 'WPA'
        this.formData.cryptoType   = 'bitcoin'

        this.errors          = {}
        this.qrCodeGenerated = false
        this.successMessage  = '';

        this.darkColor = '#000000';
        this.lightColor = '#FFFFFF'
      },

      validateForm () {
        this.errors = {}

        switch (this.selectedType) {
          case 'url':
            if (!this.formData.url) {
              this.errors.url = 'URL is required'
            } else if (!/^https?:\/\/.+/.test(this.formData.url)) {
              this.errors.url = 'Please enter a valid URL starting with http:// or https://'
            }
            break

          case 'text':
            if (!this.formData.text) {
              this.errors.text = 'Text content is required'
            }
            break

          case 'email':
            if (!this.formData.emailTo) {
              this.errors.emailTo = 'Email address is required'
            } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.formData.emailTo)) {
              this.errors.emailTo = 'Please enter a valid email address'
            }
            break

          case 'phone':
            if (!this.formData.phone) {
              this.errors.phone = 'Phone number is required'
            }
            break

          case 'sms':
            if (!this.formData.smsNumber) {
              this.errors.smsNumber = 'Phone number is required'
            }
            break

          case 'wifi':
            if (!this.formData.wifiSSID) {
              this.errors.wifiSSID = 'WiFi network name is required'
            }
            break

          case 'vcard':
            if (!this.formData.vcardFirstName && !this.formData.vcardLastName) {
              this.errors.vcardName = 'At least first name or last name is required'
            }
            break

          case 'location':
            if (!this.formData.latitude) {
              this.errors.latitude = 'Latitude is required'
            } else if (isNaN(this.formData.latitude) || this.formData.latitude < -90 || this.formData.latitude > 90) {
              this.errors.latitude = 'Latitude must be between -90 and 90'
            }
            if (!this.formData.longitude) {
              this.errors.longitude = 'Longitude is required'
            } else if (isNaN(this.formData.longitude) || this.formData.longitude < -180 || this.formData.longitude > 180) {
              this.errors.longitude = 'Longitude must be between -180 and 180'
            }
            break

          case 'event':
            if (!this.formData.eventTitle) {
              this.errors.eventTitle = 'Event title is required'
            }
            if (!this.formData.eventStartDate) {
              this.errors.eventDate = 'Start date is required'
            }
            break

          case 'crypto':
            if (!this.formData.cryptoAddress) {
              this.errors.cryptoAddress = 'Wallet address is required'
            }
            break
        }
      },

      generateQRContent () {
        switch (this.selectedType) {
          case 'url':
            return this.formData.url

          case 'text':
            return this.formData.text

          case 'email':
            let emailContent = `mailto:${this.formData.emailTo}`
            const params     = []
            if (this.formData.emailSubject) params.push(`subject=${encodeURIComponent(this.formData.emailSubject)}`)
            if (this.formData.emailBody) params.push(`body=${encodeURIComponent(this.formData.emailBody)}`)
            if (params.length > 0) emailContent += `?${params.join('&')}`
            return emailContent

          case 'phone':
            return `tel:${this.formData.phone}`

          case 'sms':
            let smsContent = `sms:${this.formData.smsNumber}`
            if (this.formData.smsMessage) {
              smsContent += `?body=${encodeURIComponent(this.formData.smsMessage)}`
            }
            return smsContent

          case 'wifi':
            const security = this.formData.wifiSecurity === 'nopass' ? 'nopass' : this.formData.wifiSecurity
            const hidden   = this.formData.wifiHidden ? 'true' : 'false'
            return `WIFI:T:${security};S:${this.formData.wifiSSID};P:${this.formData.wifiPassword};H:${hidden};;`

          case 'vcard':
            let vcard = 'BEGIN:VCARD\nVERSION:3.0\n'
            if (this.formData.vcardFirstName || this.formData.vcardLastName) {
              vcard += `FN:${this.formData.vcardFirstName} ${this.formData.vcardLastName}\n`
              vcard += `N:${this.formData.vcardLastName};${this.formData.vcardFirstName};;;\n`
            }
            if (this.formData.vcardOrg) vcard += `ORG:${this.formData.vcardOrg}\n`
            if (this.formData.vcardTitle) vcard += `TITLE:${this.formData.vcardTitle}\n`
            if (this.formData.vcardPhone) vcard += `TEL:${this.formData.vcardPhone}\n`
            if (this.formData.vcardEmail) vcard += `EMAIL:${this.formData.vcardEmail}\n`
            if (this.formData.vcardWebsite) vcard += `URL:${this.formData.vcardWebsite}\n`
            if (this.formData.vcardAddress) {
              vcard += `ADR:;;${this.formData.vcardAddress.replace(/,/g, ';')};;;\n`
            }
            vcard += 'END:VCARD'
            return vcard

          case 'location':
            let locationContent = `geo:${this.formData.latitude},${this.formData.longitude}`
            if (this.formData.locationName) {
              locationContent += `?q=${this.formData.latitude},${this.formData.longitude}(${encodeURIComponent(this.formData.locationName)})`
            }
            return locationContent

          case 'event':
            const formatDate = (dateStr) => {
              if (!dateStr) return ''
              return new Date(dateStr).toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z'
            }

            let event = 'BEGIN:VEVENT\n'
            event += `SUMMARY:${this.formData.eventTitle}\n`
            event += `DTSTART:${formatDate(this.formData.eventStartDate)}\n`
            if (this.formData.eventEndDate) {
              event += `DTEND:${formatDate(this.formData.eventEndDate)}\n`
            }
            if (this.formData.eventLocation) {
              event += `LOCATION:${this.formData.eventLocation}\n`
            }
            if (this.formData.eventDescription) {
              event += `DESCRIPTION:${this.formData.eventDescription}\n`
            }
            event += 'END:VEVENT'
            return event

          case 'crypto':
            let cryptoContent = ''
            switch (this.formData.cryptoType) {
              case 'bitcoin':
                cryptoContent = `bitcoin:${this.formData.cryptoAddress}`
                break
              case 'ethereum':
                cryptoContent = `ethereum:${this.formData.cryptoAddress}`
                break
              case 'litecoin':
                cryptoContent = `litecoin:${this.formData.cryptoAddress}`
                break
              case 'dogecoin':
                cryptoContent = `dogecoin:${this.formData.cryptoAddress}`
                break
            }

            const cryptoParams = []
            if (this.formData.cryptoAmount) cryptoParams.push(`amount=${this.formData.cryptoAmount}`)
            if (this.formData.cryptoMessage) cryptoParams.push(`message=${encodeURIComponent(this.formData.cryptoMessage)}`)
            if (cryptoParams.length > 0) cryptoContent += `?${cryptoParams.join('&')}`

            return cryptoContent

          default:
            return ''
        }
      },

      async generateQR () {
        if (!this.isFormValid) return

        this.isGenerating   = true
        this.successMessage = ''

        try {
          // Wait for QRCode library to be available
          if (typeof QRCode === 'undefined') {
            throw new Error('QRCode library not loaded')
          }

          /*const canvas = this.$refs.qrCanvas;
          if (!canvas) {
            this.successMessage = 'Canvas not found!';
            this.qrCodeGenerated = false;
            return;
          }*/

          //console.log(this.darkColor);
          //console.log(this.lightColor);

          // Use current color values
          const color = {
            dark: this.darkColor || '#000000',
            light: this.lightColor || '#FFFFFF'
          }

         //this.$nextTick(() => {
            const qrContent = this.generateQRContent();
          //});

          const canvas    = this.$refs.qrCanvas;

          //console.log(this.qrSettings.color)

          await QRCode.toCanvas(canvas, qrContent, {
            width: this.qrSettings.width,
            margin: this.qrSettings.margin,
            color: color,
            errorCorrectionLevel: this.qrSettings.errorCorrectionLevel
          });

          this.qrCodeGenerated = true
          this.successMessage  = '‚úÖ QR code generated successfully!'
        } catch (error) {
          console.error('Error generating QR code:', error)
          this.successMessage = '‚ùå Error generating QR code. Please check your input and try again.'
        } finally {
          this.isGenerating = false
        }
      },

      downloadQR (format) {
        if (!this.qrCodeGenerated) return

        const color = {
          dark: this.darkColor || '#000000',
          light: this.lightColor || '#FFFFFF'
        }

        const canvas   = this.$refs.qrCanvas
        const fileName = `qr-code-${this.selectedType}-${Date.now()}`

        try {
          if (format === 'png') {
            const link    = document.createElement('a')
            link.download = `${fileName}.png`
            link.href     = canvas.toDataURL()
            link.click()
          } else if (format === 'svg') {
            // Generate SVG version
            const qrContent = this.generateQRContent()
            QRCode.toString(qrContent, {
              type: 'svg',
              width: this.qrSettings.width,
              margin: this.qrSettings.margin,
              //color: this.qrSettings.color,
              color: color,
              errorCorrectionLevel: this.qrSettings.errorCorrectionLevel
            }).then(svg => {
              const blob    = new Blob([svg], { type: 'image/svg+xml' })
              const link    = document.createElement('a')
              link.download = `${fileName}.svg`
              link.href     = URL.createObjectURL(blob)
              link.click()
              URL.revokeObjectURL(link.href)
            }).catch(error => {
              console.error('Error generating SVG:', error)
            })
          }
        } catch (error) {
          console.error('Error downloading QR code:', error)
        }
      }
    },

    async mounted () {
      // Wait for QRCode library to load
      let attempts      = 0
      const maxAttempts = 50

      while (typeof QRCode === 'undefined' && attempts < maxAttempts) {
        await new Promise(resolve => setTimeout(resolve, 100))
        attempts++
      }

      if (typeof QRCode === 'undefined') {
        console.error('QRCode library failed to load')
        this.successMessage = '‚ùå QR Code library failed to load. Please refresh the page.'
        return
      }

      // Dark Color Pickr
      this.pickrDark = Pickr.create({
        el: '#pickr-dark',
        theme: 'classic', // or 'monolith', 'nano'
        default: this.darkColor,
        swatches: [
          '#000000', '#333333', '#666666', '#764ba2', '#667eea', '#ffffff'
        ],
        components: {
          preview: true,
          opacity: true,
          hue: true,
          interaction: {
            hex: true,
            rgba: true,
            input: true,
            save: true
          }
        }
      });

      this.pickrDark.on('change', (color) => {
        this.darkColor = color.toHEXA().toString();
      });

      this.pickrDark.on('save', (color, instance) => {
        if (color) {
          // User clicked save with a color selected
          //const hexColor = color.toHEXA().toString(); // Get the color in HEXA format
          this.darkColor = color.toHEXA().toString();
          //console.log('Saved color:', hexColor);
          // You can now use the hexColor value, for example, to update an element's background
        } else {
          // User clicked clear
          //console.log('Color cleared');
        }
        // Optionally, hide the pickr instance after saving
        instance.hide();
      });

      // Light Color Pickr
      this.pickrLight = Pickr.create({
        el: '#pickr-light',
        theme: 'classic',
        default: this.lightColor,
        swatches: [
          '#ffffff', '#f8f9fa', '#e0e0e0', '#ffd700', '#28a745', '#764ba2'
        ],
        components: {
          preview: true,
          opacity: true,
          hue: true,
          interaction: {
            hex: true,
            rgba: true,
            input: true,
            save: true
          }
        }
      });

      this.pickrLight.on('change', (color) => {
        this.lightColor = color.toHEXA().toString();
      });

      this.pickrLight.on('save', (color, instance) => {
        if (color) {
          // User clicked save with a color selected
          //const hexColor = color.toHEXA().toString(); // Get the color in HEXA format
          this.lightColor = color.toHEXA().toString();
          //console.log('Saved color:', hexColor);
          // You can now use the hexColor value, for example, to update an element's background
        } else {
          // User clicked clear
          //console.log('Color cleared');
        }
        // Optionally, hide the pickr instance after saving
        instance.hide();
      });

      // Ensure color inputs have default values
      //this.darkColor  = this.qrSettings.darkColor || '#000000'
      //this.lightColor = this.qrSettings.lightColor || '#FFFFFF'

      // Initialize IndexedDB
      try {
        await this.initDB()
        await this.loadSavedQRs()
      } catch (error) {
        console.error('Error initializing database:', error)
      }

      // Set default datetime for event type
      const now                    = new Date()
      const futureDate             = new Date(now.getTime() + 24 * 60 * 60 * 1000) // Tomorrow
      this.formData.eventStartDate = now.toISOString().slice(0, 16)
      this.formData.eventEndDate   = futureDate.toISOString().slice(0, 16)
    }
  }).mount('#app')
</script>
</body>
</html>